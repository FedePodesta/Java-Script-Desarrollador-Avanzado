<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <nav>
        <a href="/home" class="history-link">Home</a>
        <a href="/contact" class="history-link">Contact</a>
    </nav>
    <main class="history-view"></main>

    <script>
        /**
         * Examinar la ruta actual y elegir qué hacer con eso
         * 1) Diseñar la función para actualizar la UI en función del history.state
         * 2) Llamar a la función en los momentos adecuados
        **/
       function updateHistoryView()
       {
            document.querySelectorAll('.history-view').forEach(function(view)
            {
                const nextView = history.state;

                switch(nextView)
                {
                    case '/home':
                        view.innerHTML = "Estas en Home";
                        break;

                    case '/contact':
                        view.innerHTML = "Estas en Contact";
                        break;
                }
            });
       }

       window.addEventListener('popstate', function()
       {
            updateHistoryView();
       });
    </script>
    <script>
        /**
         * Navegar hacia otra página
        **/
        document.querySelectorAll('.history-link').forEach(function(link)
        {
            link.addEventListener('click', function(e)
            {
                e.preventDefault();
                const href = link.getAttribute('href');
                history.pushState(href, '', href);
                updateHistoryView();
            });
        });
    </script>
</body>
</html>